if ((typeof(basis$0Array2$1)) == "undefined") {basis$0Array2$1 = {};
};
(function(){basis$0Array2$1.eq_traversal$751 = function(v$753,v$754){switch (v$753) { case 0: {switch (v$754) { case 0: {return true;
 break; }default: {return false;
} };
 break; }case 1: {switch (v$754) { case 1: {return true;
 break; }default: {return false;
} };
 break; } };
};
basis$0Array2$1.fromList$56 = function(v$59){if (v$59 == null) {return [[basis$0Vector$1$3.fromList$226(null),0,0]];
} else {var v$77 = v$59;
var v$78 = v$77[0];
var v$79 = v$77[1];
var row1$66 = basis$0Array$1$3.fromList$226(v$78);
var rowr$67 = basis$0List$1.map$328(function(v$1051){return basis$0Array$1$3.fromList$226(v$1051);
},v$79);
var cols$68 = row1$66.length;
var vec$69;
var t$1054;
var fix$1052 = {};
fix$1052.$all = function(v$760){lab$all: while (true) {if (v$760 == null) {return true;
} else {var v$761 = v$760;
var v$762 = v$761[0];
var v$763 = v$761[1];
if (v$762.length == cols$68) {var t$1053 = v$763;
var v$760 = t$1053;
continue lab$all;
} else {return false;
};
};
};
};
var all$759 = fix$1052.$all;
t$1054 = (all$759(rowr$67));
if (t$1054) {vec$69 = (basis$0Vector$1$3.fromList$226([row1$66,rowr$67]));
} else {throw basis$0General$1.exn$Size$58;
};
return [[vec$69,vec$69.length,cols$68]];
};
};
basis$0Array2$1.array$80 = function(v$88,v$89,v$90){return [[basis$0Vector$1$3.tabulate$255(v$88,function(v$87){return basis$0Array$1$3.array$217(v$89,v$90);
}),v$88,v$89]];
};
var fix$1055 = {};
fix$1055.$tabulate = function(v$94,v$97){lab$tabulate: while (true) {switch (v$94) { case 0: {var v$116 = v$97[0];
var v$117 = v$97[1];
var v$118 = v$97[2];
return [[basis$0Vector$1$3.tabulate$255(v$116,(function(env$1059){return function(i$111){var v$1056 = env$1059[0];
var v$1057 = env$1059[1];
var v$1058 = env$1059[2];
return v$1058(v$1057,(function(env$1062){return function(j$114){var v$1060 = env$1062[0];
var v$1061 = env$1062[1];
return v$1061([v$1060,j$114]);
};
})([i$111,v$1056]));
};
})([v$118,v$117,basis$0Array$1$3.tabulate$255])),v$116,v$117]];
 break; }default: {var v$157 = v$97[0];
var v$158 = v$97[1];
var v$159 = v$97[2];
if ((v$157 > 0)?(v$158 > 0):false) {var f00$123 = v$159([0,0]);
var arr$124 = basis$0Vector$1$3.tabulate$255(v$157,(function(env$1066){return function(i$127){var v$1063 = env$1066[0];
var v$1064 = env$1066[1];
var v$1065 = env$1066[2];
return v$1065(v$1064,v$1063);
};
})([f00$123,v$158,basis$0Array$1$3.array$217]));
var v$768 = basis$0VectorSlice$1$3.slice$215(arr$124,1,[1]);
var v$769 = v$768[0];
var v$770 = v$768[1];
var v$771 = v$768[2];
var stop$772 = SmlPrims.chk_ovf_i32(v$770 + v$771);
var fix$1067 = {};
fix$1067.$lr = function(j$774){lab$lr: while (true) {if (j$774 < stop$772) {var v$1016 = v$769[j$774];
basis$0Array$1$3.update$194(v$1016,0,v$159([j$774,0]));
var t$1068 = SmlPrims.chk_ovf_i32(j$774 + 1);
var j$774 = t$1068;
continue lab$lr;
} else {return 0;
};
};
};
var lr$773 = fix$1067.$lr;
lr$773(v$770);
var fix$1069 = {};
fix$1069.$loop = function(c$137){lab$loop: while (true) {if (c$137 < v$158) {var stop$777 = arr$124.length;
var fix$1070 = {};
fix$1070.$lr = function(j$779){lab$lr: while (true) {if (j$779 < stop$777) {var v$1018 = arr$124[j$779];
basis$0Array$1$3.update$194(v$1018,c$137,v$159([j$779,c$137]));
var t$1071 = SmlPrims.chk_ovf_i32(j$779 + 1);
var j$779 = t$1071;
continue lab$lr;
} else {return 0;
};
};
};
var lr$778 = fix$1070.$lr;
lr$778(0);
var t$1072 = SmlPrims.chk_ovf_i32(c$137 + 1);
var c$137 = t$1072;
continue lab$loop;
} else {return 0;
};
};
};
var loop$134 = fix$1069.$loop;
loop$134(1);
return [[arr$124,v$157,v$158]];
} else {var t$1073 = 0;
var t$1074 = [v$157,v$158,v$159];
var v$94 = t$1073;
var v$97 = t$1074;
continue lab$tabulate;
};
} };
};
};
basis$0Array2$1.tabulate$91 = fix$1055.$tabulate;
basis$0Array2$1.dimensions$160 = function(v$163){v$163[0][0];
return [v$163[0][1],v$163[0][2]];
};
basis$0Array2$1.nRows$172 = function(v$175){v$175[0][0];
var v$182 = v$175[0][1];
v$175[0][2];
return v$182;
};
basis$0Array2$1.nCols$184 = function(v$187){v$187[0][0];
v$187[0][1];
return v$187[0][2];
};
basis$0Array2$1.sub$196 = function(v$207,v$1035,v$1036){var v$208 = v$207[0][0];
v$207[0][1];
v$207[0][2];
return basis$0Array$1$3.sub$185(basis$0Vector$1$3.sub$185(v$208,v$1035),v$1036);
};
basis$0Array2$1.update$213 = function(v$225,v$1037,v$1038,v$1039){var v$226 = v$225[0][0];
v$225[0][1];
v$225[0][2];
return basis$0Array$1$3.update$194(basis$0Vector$1$3.sub$185(v$226,v$1037),v$1038,v$1039);
};
basis$0Array2$1.row$232 = function(v$240,v$1040){var v$241 = v$240[0][0];
var a$780 = basis$0Vector$1$3.sub$185(v$241,v$1040);
var v$781 = a$780.length;
var fix$1075 = {};
fix$1075.$init = function(v$784,v$785,v$786){lab$init: while (true) {if (v$786 >= v$781) {return v$784;
} else {(v$784[v$786] = (v$785(v$786)),0);
var t$1076 = v$784;
var t$1077 = v$785;
var t$1078 = SmlPrims.chk_ovf_i32(v$786 + 1);
var v$784 = t$1076;
var v$785 = t$1077;
var v$786 = t$1078;
continue lab$init;
};
};
};
var init$782 = fix$1075.$init;
return init$782(Array(v$781),function(i$787){return a$780[i$787];
},0);
};
basis$0Array2$1.column$243 = function(v$264,v$1041){var v$265 = v$264[0][0];
var v$266 = v$264[0][1];
var v$267 = v$264[0][2];
if ((v$1041 < 0)?true:(v$1041 >= v$267)) {throw basis$0General$1.exn$Subscript$56;
} else {return basis$0Vector$1$3.tabulate$255(v$266,function(k$259){return basis$0Array$1$3.sub$185(basis$0Vector$1$3.sub$185(v$265,k$259),v$1041);
});
};
};
basis$0Array2$1.fold$269 = function(v$272,v$275,v$278,v$281){switch (v$272) { case 0: {var v$304 = v$281[0][0];
var n$791 = v$304.length;
var fix$1079 = {};
fix$1079.$lr = function(v$794,v$795){lab$lr: while (true) {if (v$794 < n$791) {var t$1084 = SmlPrims.chk_ovf_i32(v$794 + 1);
var t$1080;
var v$1019 = v$304[v$794];
var n$930 = v$1019.length;
var fix$1081 = {};
fix$1081.$lr = function(v$933,v$934){lab$lr: while (true) {if (v$933 < n$930) {var t$1082 = SmlPrims.chk_ovf_i32(v$933 + 1);
var t$1083 = v$275([v$1019[v$933],v$934]);
var v$933 = t$1082;
var v$934 = t$1083;
continue lab$lr;
} else {return v$934;
};
};
};
var lr$931 = fix$1081.$lr;
t$1080 = (lr$931(0,v$795));
var t$1085 = t$1084;
var t$1086 = t$1080;
var v$794 = t$1085;
var v$795 = t$1086;
continue lab$lr;
} else {return v$795;
};
};
};
var lr$792 = fix$1079.$lr;
return lr$792(0,v$278);
 break; }default: {var v$333 = v$281[0][0];
var v$334 = v$281[0][1];
var v$335 = v$281[0][2];
var fix$1087 = {};
fix$1087.$cols = function(j$322,b$325){lab$cols: while (true) {if (j$322 >= v$335) {return b$325;
} else {var t$1092 = SmlPrims.chk_ovf_i32(j$322 + 1);
var t$1091;
var fix$1088 = {};
fix$1088.$rows = function(i$937,b$938){lab$rows: while (true) {if (i$937 >= v$334) {return b$938;
} else {var t$1089 = SmlPrims.chk_ovf_i32(i$937 + 1);
var t$1090 = v$275([basis$0Array$1$3.sub$185(basis$0Vector$1$3.sub$185(v$333,i$937),j$322),b$938]);
var i$937 = t$1089;
var b$938 = t$1090;
continue lab$rows;
};
};
};
var rows$936 = fix$1088.$rows;
t$1091 = (rows$936(0,b$325));
var t$1093 = t$1092;
var t$1094 = t$1091;
var j$322 = t$1093;
var b$325 = t$1094;
continue lab$cols;
};
};
};
var cols$319 = fix$1087.$cols;
return cols$319(0,v$278);
} };
};
basis$0Array2$1.foldi$381 = function(v$384,v$387,v$390,v$393){switch (v$384) { case 0: {var v$436 = v$393[0];
var v$437 = v$436[0][0];
v$436[0][1];
v$436[0][2];
var v$440 = v$393[4];
var v$441 = v$393[1];
var v$442 = v$393[3];
var v$443 = v$393[2];
var v$806 = basis$0VectorSlice$1$3.slice$215(v$437,v$440,v$442);
var v$807 = v$806[0];
var v$808 = v$806[1];
var v$809 = v$806[2];
var stop$810 = SmlPrims.chk_ovf_i32(v$808 + v$809);
var fix$1095 = {};
fix$1095.$lr = function(j$812,res$813){lab$lr: while (true) {if (j$812 < stop$810) {var t$1102 = SmlPrims.chk_ovf_i32(j$812 + 1);
var t$1096;
var v$1022 = v$807[j$812];
var v$947 = basis$0ArraySlice$1$3.slice$213(v$1022,v$441,v$443);
var v$948 = v$947[0];
var v$949 = v$947[1];
var v$950 = v$947[2];
var stop$951 = SmlPrims.chk_ovf_i32(v$949 + v$950);
var fix$1097 = {};
fix$1097.$lr = function(j$953,res$954){lab$lr: while (true) {if (j$953 < stop$951) {var t$1099 = SmlPrims.chk_ovf_i32(j$953 + 1);
var t$1098;
var v$1025 = v$948[j$953];
t$1098 = (v$387([j$812,j$953,v$1025,res$954]));
var t$1100 = t$1099;
var t$1101 = t$1098;
var j$953 = t$1100;
var res$954 = t$1101;
continue lab$lr;
} else {return res$954;
};
};
};
var lr$952 = fix$1097.$lr;
t$1096 = (lr$952(v$949,res$813));
var t$1103 = t$1102;
var t$1104 = t$1096;
var j$812 = t$1103;
var res$813 = t$1104;
continue lab$lr;
} else {return res$813;
};
};
};
var lr$811 = fix$1095.$lr;
return lr$811(v$808,v$390);
 break; }default: {var v$474 = v$393[0];
var v$475 = v$474[0][0];
var v$476 = v$474[0][1];
var v$477 = v$474[0][2];
var v$478 = v$393[4];
var v$479 = v$393[1];
var v$480 = v$393[3];
var v$481 = v$393[2];
var stoprow$444;
switch (v$480[0]) { case 1: {if ((v$478 < 0)?true:(v$478 > v$476)) {throw basis$0General$1.exn$Subscript$56;
} else {stoprow$444 = v$476;
};
 break; }default: {var v$962 = v$480[1];
if ((v$478 < 0)?true:((v$962 < 0)?true:((SmlPrims.chk_ovf_i32(v$478 + v$962)) > v$476))) {throw basis$0General$1.exn$Subscript$56;
} else {stoprow$444 = (SmlPrims.chk_ovf_i32(v$478 + v$962));
};
} };
var stopcol$445;
switch (v$481[0]) { case 1: {if ((v$479 < 0)?true:(v$479 > v$477)) {throw basis$0General$1.exn$Subscript$56;
} else {stopcol$445 = v$477;
};
 break; }default: {var v$966 = v$481[1];
if ((v$479 < 0)?true:((v$966 < 0)?true:((SmlPrims.chk_ovf_i32(v$479 + v$966)) > v$477))) {throw basis$0General$1.exn$Subscript$56;
} else {stopcol$445 = (SmlPrims.chk_ovf_i32(v$479 + v$966));
};
} };
var fix$1105 = {};
fix$1105.$cols = function(j$463,b$466){lab$cols: while (true) {if (j$463 >= stopcol$445) {return b$466;
} else {var t$1110 = SmlPrims.chk_ovf_i32(j$463 + 1);
var t$1109;
var fix$1106 = {};
fix$1106.$rows = function(i$969,b$970){lab$rows: while (true) {if (i$969 >= stoprow$444) {return b$970;
} else {var t$1107 = SmlPrims.chk_ovf_i32(i$969 + 1);
var t$1108 = v$387([i$969,j$463,basis$0Array$1$3.sub$185(basis$0Vector$1$3.sub$185(v$475,i$969),j$463),b$970]);
var i$969 = t$1107;
var b$970 = t$1108;
continue lab$rows;
};
};
};
var rows$968 = fix$1106.$rows;
t$1109 = (rows$968(v$478,b$466));
var t$1111 = t$1110;
var t$1112 = t$1109;
var j$463 = t$1111;
var b$466 = t$1112;
continue lab$cols;
};
};
};
var cols$460 = fix$1105.$cols;
return cols$460(v$479,v$390);
} };
};
basis$0Array2$1.app$482 = function(v$485,v$488,v$491){switch (v$485) { case 0: {var v$503 = v$491[0][0];
var n$826 = v$503.length;
var fix$1113 = {};
fix$1113.$lr = function(j$828){lab$lr: while (true) {if (j$828 < n$826) {var a$971 = v$503[j$828];
var n$972 = a$971.length;
var fix$1114 = {};
fix$1114.$lr = function(j$974){lab$lr: while (true) {if (j$974 < n$972) {v$488(a$971[j$974]);
var t$1115 = SmlPrims.chk_ovf_i32(j$974 + 1);
var j$974 = t$1115;
continue lab$lr;
} else {return 0;
};
};
};
var lr$973 = fix$1114.$lr;
lr$973(0);
var t$1116 = SmlPrims.chk_ovf_i32(j$828 + 1);
var j$828 = t$1116;
continue lab$lr;
} else {return 0;
};
};
};
var lr$827 = fix$1113.$lr;
return lr$827(0);
 break; }default: {return basis$0Array2$1.fold$269(1,function(v$506){var v$507 = v$506[0];
return v$488(v$507);
},0,v$491);
} };
};
basis$0Array2$1.appi$510 = function(v$513,v$516,v$519){switch (v$513) { case 0: {var v$547 = v$519[0];
var v$548 = v$547[0][0];
var v$549 = v$519[4];
var v$550 = v$519[1];
var v$551 = v$519[3];
var v$552 = v$519[2];
var v$835 = basis$0VectorSlice$1$3.slice$215(v$548,v$549,v$551);
var v$836 = v$835[0];
var v$837 = v$835[1];
var v$838 = v$835[2];
var stop$839 = SmlPrims.chk_ovf_i32(v$837 + v$838);
var fix$1117 = {};
fix$1117.$lr = function(j$841){lab$lr: while (true) {if (j$841 < stop$839) {var v$1028 = v$836[j$841];
var v$981 = basis$0ArraySlice$1$3.slice$213(v$1028,v$550,v$552);
var v$982 = v$981[0];
var v$983 = v$981[1];
var v$984 = v$981[2];
var stop$985 = SmlPrims.chk_ovf_i32(v$983 + v$984);
var fix$1118 = {};
fix$1118.$lr = function(j$987){lab$lr: while (true) {if (j$987 < stop$985) {var v$1030 = v$982[j$987];
v$516([j$841,j$987,v$1030]);
var t$1119 = SmlPrims.chk_ovf_i32(j$987 + 1);
var j$987 = t$1119;
continue lab$lr;
} else {return 0;
};
};
};
var lr$986 = fix$1118.$lr;
lr$986(v$983);
var t$1120 = SmlPrims.chk_ovf_i32(j$841 + 1);
var j$841 = t$1120;
continue lab$lr;
} else {return 0;
};
};
};
var lr$840 = fix$1117.$lr;
return lr$840(v$837);
 break; }default: {return basis$0Array2$1.foldi$381(1,function(v$557){var v$558 = v$557[0];
var v$559 = v$557[1];
var v$560 = v$557[2];
return v$516([v$558,v$559,v$560]);
},0,v$519);
} };
};
basis$0Array2$1.modify$563 = function(v$566,v$569,v$572){switch (v$566) { case 0: {var v$584 = v$572[0][0];
var n$852 = v$584.length;
var fix$1121 = {};
fix$1121.$lr = function(j$854){lab$lr: while (true) {if (j$854 < n$852) {var a$991 = v$584[j$854];
var n$992 = a$991.length;
var fix$1122 = {};
fix$1122.$lr = function(j$994){lab$lr: while (true) {if (j$994 < n$992) {(a$991[j$994] = (v$569(a$991[j$994])),0);
var t$1123 = SmlPrims.chk_ovf_i32(j$994 + 1);
var j$994 = t$1123;
continue lab$lr;
} else {return 0;
};
};
};
var lr$993 = fix$1122.$lr;
lr$993(0);
var t$1124 = SmlPrims.chk_ovf_i32(j$854 + 1);
var j$854 = t$1124;
continue lab$lr;
} else {return 0;
};
};
};
var lr$853 = fix$1121.$lr;
return lr$853(0);
 break; }default: {return basis$0Array2$1.foldi$381(1,function(v$589){var v$590 = v$589[0];
var v$591 = v$589[1];
var v$592 = v$589[2];
var v$913 = v$569(v$592);
var v$862 = v$572[0][0];
v$572[0][1];
v$572[0][2];
return basis$0Array$1$3.update$194(basis$0Vector$1$3.sub$185(v$862,v$590),v$591,v$913);
},0,[v$572,0,[1],[1],0]);
} };
};
basis$0Array2$1.modifyi$600 = function(v$603,v$606,v$609){switch (v$603) { case 0: {var v$638 = v$609[0];
var v$639 = v$638[0][0];
var v$640 = v$609[4];
var v$641 = v$609[1];
var v$642 = v$609[3];
var v$643 = v$609[2];
var v$867 = basis$0VectorSlice$1$3.slice$215(v$639,v$640,v$642);
var v$868 = v$867[0];
var v$869 = v$867[1];
var v$870 = v$867[2];
var stop$871 = SmlPrims.chk_ovf_i32(v$869 + v$870);
var fix$1125 = {};
fix$1125.$lr = function(j$873){lab$lr: while (true) {if (j$873 < stop$871) {var v$1032 = v$868[j$873];
var v$1001 = basis$0ArraySlice$1$3.slice$213(v$1032,v$641,v$643);
var v$1002 = v$1001[0];
var v$1003 = v$1001[1];
var v$1004 = v$1001[2];
var stop$1005 = SmlPrims.chk_ovf_i32(v$1003 + v$1004);
var fix$1126 = {};
fix$1126.$lr = function(j$1007){lab$lr: while (true) {if (j$1007 < stop$1005) {var t$1129 = v$1002;
var t$1128 = j$1007;
var t$1127;
var v$1034 = v$1002[j$1007];
t$1127 = (v$606([j$873,j$1007,v$1034]));
(t$1129[t$1128] = t$1127,0);
var t$1130 = SmlPrims.chk_ovf_i32(j$1007 + 1);
var j$1007 = t$1130;
continue lab$lr;
} else {return 0;
};
};
};
var lr$1006 = fix$1126.$lr;
lr$1006(v$1003);
var t$1131 = SmlPrims.chk_ovf_i32(j$873 + 1);
var j$873 = t$1131;
continue lab$lr;
} else {return 0;
};
};
};
var lr$872 = fix$1125.$lr;
return lr$872(v$869);
 break; }default: {var v$654 = v$609[0];
return basis$0Array2$1.foldi$381(1,function(v$648){var v$649 = v$648[0];
var v$650 = v$648[1];
var v$651 = v$648[2];
var v$920 = v$606([v$649,v$650,v$651]);
var v$884 = v$654[0][0];
v$654[0][1];
v$654[0][2];
return basis$0Array$1$3.update$194(basis$0Vector$1$3.sub$185(v$884,v$649),v$650,v$920);
},0,v$609);
} };
};
basis$0Array2$1.copy$655 = function(v$1042,v$1043,v$1044,v$710){var v$711 = v$710[0];
var v$712 = v$711[0][0];
var v$713 = v$711[0][1];
v$711[0][2];
var v$715 = v$710[4];
var v$716 = v$710[1];
var v$717 = v$710[3];
var v$718 = v$710[2];
var v$720 = v$1042[0][0];
v$1042[0][1];
v$1042[0][2];
var stoprow$673;
switch (v$717[0]) { case 1: {if ((v$715 < 0)?true:(v$715 > v$713)) {throw basis$0General$1.exn$Subscript$56;
} else {stoprow$673 = v$713;
};
 break; }default: {var v$1014 = v$717[1];
if ((v$715 < 0)?true:((v$1014 < 0)?true:((SmlPrims.chk_ovf_i32(v$715 + v$1014)) > v$713))) {throw basis$0General$1.exn$Subscript$56;
} else {stoprow$673 = (SmlPrims.chk_ovf_i32(v$715 + v$1014));
};
} };
var fix$1132 = {};
fix$1132.$bottomUp = function(from_row$677,to_row$680){lab$bottomUp: while (true) {if (from_row$677 < v$715) {return 0;
} else {var v$1045;
var v$687 = basis$0ArraySlice$1$3.slice$213(basis$0Vector$1$3.sub$185(v$712,from_row$677),v$716,v$718);
v$1045 = [v$1043,basis$0Vector$1$3.sub$185(v$720,to_row$680),v$687];
basis$0ArraySlice$1$3.copy$328(v$1045[0],v$1045[1],v$1045[2]);
var t$1133 = SmlPrims.chk_ovf_i32(from_row$677 - 1);
var t$1134 = SmlPrims.chk_ovf_i32(to_row$680 - 1);
var from_row$677 = t$1133;
var to_row$680 = t$1134;
continue lab$bottomUp;
};
};
};
var bottomUp$674 = fix$1132.$bottomUp;
var fix$1135 = {};
fix$1135.$topDown = function(from_row$693,to_row$696){lab$topDown: while (true) {if (from_row$693 >= stoprow$673) {return 0;
} else {var v$1046;
var v$703 = basis$0ArraySlice$1$3.slice$213(basis$0Vector$1$3.sub$185(v$712,from_row$693),v$716,v$718);
v$1046 = [v$1043,basis$0Vector$1$3.sub$185(v$720,to_row$696),v$703];
basis$0ArraySlice$1$3.copy$328(v$1046[0],v$1046[1],v$1046[2]);
var t$1136 = SmlPrims.chk_ovf_i32(from_row$693 + 1);
var t$1137 = SmlPrims.chk_ovf_i32(to_row$696 + 1);
var from_row$693 = t$1136;
var to_row$696 = t$1137;
continue lab$topDown;
};
};
};
var topDown$690 = fix$1135.$topDown;
if (v$715 <= v$1044) {return bottomUp$674(SmlPrims.chk_ovf_i32(stoprow$673 - 1),SmlPrims.chk_ovf_i32((SmlPrims.chk_ovf_i32((SmlPrims.chk_ovf_i32(stoprow$673 - 1)) + v$1044)) - v$715));
} else {return topDown$690(v$715,v$1044);
};
};
return 0;
})();
