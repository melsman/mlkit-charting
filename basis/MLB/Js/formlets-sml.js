if ((typeof(dojo$0formlets$1)) == "undefined") {dojo$0formlets$1 = {};
};
(function(){var fix$6674 = {};
fix$6674.$eq_gen = function(v$1727,v$1728){lab$eq_gen: while (true) {switch (v$1727[0]) { case 0: {switch (v$1728[0]) { case 0: {return true;
 break; }default: {return false;
} };
 break; }case 1: {switch (v$1728[0]) { case 1: {return v$1727[1] == v$1728[1];
 break; }default: {return false;
} };
 break; }case 2: {switch (v$1728[0]) { case 2: {var v$1732 = v$1727[1];
var v$1733 = v$1728[1];
if (fix$6674.$eq_gen(v$1732[0],v$1733[0])) {var t$6675 = v$1732[1];
var t$6676 = v$1733[1];
var v$1727 = t$6675;
var v$1728 = t$6676;
continue lab$eq_gen;
} else {return false;
};
 break; }default: {return false;
} };
 break; }case 3: {switch (v$1728[0]) { case 3: {return v$1727[1] == v$1728[1];
 break; }default: {return false;
} };
 break; } };
};
};
dojo$0formlets$1.eq_gen$1725 = fix$6674.$eq_gen;
var fix$6677 = {};
fix$6677.$removeChildren = function(elem$78){lab$removeChildren: while (true) {var v$83 = (function(e){return SmlPrims.option(e.firstChild);})(elem$78);
switch (v$83[0]) { case 0: {var v$87 = v$83[1];
(function(e,a){return e.removeChild(a);})(elem$78,v$87);
var t$6678 = elem$78;
var elem$78 = t$6678;
continue lab$removeChildren;
 break; }default: {return 0;
} };
};
};
var removeChildren$75 = fix$6677.$removeChildren;
var newId$91;
var c$92 = [0];
newId$91 = (function(v$94){return [c$92[0],(c$92[0] = (SmlPrims.chk_ovf_i32(c$92[0] + 1)),0)][0];
});
dojo$0formlets$1.fromEditCon$95 = function(ec$98){return [[1,[ec$98,""]],newId$91(0),"",""];
};
dojo$0formlets$1.textbox$103 = function(v$105){return [[1,[dojo$0dojo$1.textBox$1021(null),""]],newId$91(0),"",""];
};
dojo$0formlets$1.intbox$106 = function(v$108){return [[1,[dojo$0dojo$1.textBox$1021(null),""]],newId$91(0),"",""];
};
dojo$0formlets$1.realbox$109 = function(v$111){return [[1,[dojo$0dojo$1.textBox$1021(null),""]],newId$91(0),"",""];
};
dojo$0formlets$1.datebox$112 = function(v$114){return [[1,[dojo$0dojo$1.textBox$1021(null),""]],newId$91(0),"",""];
};
dojo$0formlets$1.selectbox$115 = function(sls$118){return [[1,[dojo$0dojo$1.filterSelectBox$1401(null,true,basis$0List$1.map$328(function(v$122){return [v$122[0],v$122[1]];
},sls$118)),""]],newId$91(0),"",""];
};
dojo$0formlets$1.boolbox$125 = function(v$127){var sls$1769 = [["true","True"],[["false","False"],null]];
return [[1,[dojo$0dojo$1.filterSelectBox$1401(null,true,basis$0List$1.map$328(function(v$1770){return [v$1770[0],v$1770[1]];
},sls$1769)),""]],newId$91(0),"",""];
};
dojo$0formlets$1.hidden$128 = function(v$130){var t$6680;
var t$6679;
var v$131 = [""];
t$6679 = [[null],v$131];
t$6680 = [0,t$6679];
return [t$6680,newId$91(0),"",""];
};
dojo$0formlets$1.withKey$137 = function(v$170,v$171){if (v$170[2] == "") {return [v$170[0],v$170[1],v$171,v$170[3]];
} else {var s$1775 = (("Cannot set key " + (("'" + v$171) + "'")) + " for an element that already has the key ") + (("'" + v$170[2]) + "'");
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$1775];
};
};
dojo$0formlets$1.withLabel$172 = function(v$193,v$6561){return [v$193[0],v$193[1],v$193[2],v$6561];
};
dojo$0formlets$1.withValue$223 = function(v$248,v$249){var t$6681;
var v$2921 = v$248[0];
switch (v$2921[0]) { case 1: {t$6681 = [1,[v$2921[1][0],v$249]];
 break; }case 0: {var v$1791 = v$2921[1];
(v$1791[1][0] = v$249,0);
t$6681 = [0,v$1791];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: wValue.button"];
} };
return [t$6681,v$248[1],v$248[2],v$248[3]];
};
dojo$0formlets$1.button$250 = function(label$253){return [[2],newId$91(0),"",label$253];
};
dojo$0formlets$1.s$b$265 = function(x$268){return [1,[x$268,1]];
};
dojo$0formlets$1.s$bb$269 = function(x$1796){return [1,[x$1796,1]];
};
var fix$6682 = {};
fix$6682.$hextend = function(v$273){lab$hextend: while (true) {switch (v$273[0]) { case 1: {var v$325 = v$273[1];
return [1,[v$325[0],SmlPrims.chk_ovf_i32(v$325[1] + 1)]];
 break; }case 0: {var v$323 = v$273[1];
return [0,basis$0List$1.map$328((function(env$6684){return function(v$6667){var v$6683 = env$6684[0];
return v$6683(v$6667);
};
})([fix$6682.$hextend]),v$323)];
 break; }case 2: {var v$321 = v$273[1];
var v$317 = basis$0List$1.rev$678(v$321);
if (v$317 == null) {return [5];
} else {var v$318 = v$317;
var v$319 = v$318[0];
var v$320 = v$318[1];
return [2,basis$0List$1.rev$678([fix$6682.$hextend(v$319),v$320])];
};
 break; }case 3: {var v$307 = v$273[1];
return [3,[v$307[0],v$307[1],SmlPrims.chk_ovf_i32(v$307[2] + 1)]];
 break; }case 5: {return [5];
 break; }case 4: {var v$302 = v$273[1];
return [4,[v$302[0],v$302[1],SmlPrims.chk_ovf_i32(v$302[2] + 1)]];
 break; }default: {var v$328 = v$273[1];
return [6,[v$328[0],v$328[1],SmlPrims.chk_ovf_i32(v$328[2] + 1)]];
} };
};
};
dojo$0formlets$1.hextend$270 = fix$6682.$hextend;
dojo$0formlets$1.s$ll$332 = function(v$358,v$6562){switch (v$358[0]) { case 5: {return v$6562;
 break; }default: {switch (v$6562[0]) { case 5: {return v$358;
 break; }default: {switch (v$358[0]) { case 2: {switch (v$6562[0]) { case 2: {var v$363 = v$358[1];
var v$364 = v$6562[1];
return [2,basis$0List$1.s$n$682(v$363,v$364)];
 break; }default: {var v$365 = v$358[1];
return [2,basis$0List$1.s$n$682(v$365,[v$6562,null])];
} };
 break; }default: {switch (v$6562[0]) { case 2: {return [2,[v$358,v$6562[1]]];
 break; }default: {return [2,[v$358,[v$6562,null]]];
} };
} };
} };
} };
};
dojo$0formlets$1.s$hl$368 = function(v$394,v$6563){switch (v$394[0]) { case 5: {return v$6563;
 break; }default: {switch (v$6563[0]) { case 5: {return v$394;
 break; }default: {switch (v$394[0]) { case 0: {switch (v$6563[0]) { case 0: {var v$399 = v$394[1];
var v$400 = v$6563[1];
return [0,basis$0List$1.s$n$682(v$399,v$400)];
 break; }default: {var v$401 = v$394[1];
return [0,basis$0List$1.s$n$682(v$401,[v$6563,null])];
} };
 break; }default: {switch (v$6563[0]) { case 0: {return [0,[v$394,v$6563[1]]];
 break; }default: {return [0,[v$394,[v$6563,null]]];
} };
} };
} };
} };
};
dojo$0formlets$1.group$404 = function(l$407,f$410){return [3,[l$407,f$410,1]];
};
dojo$0formlets$1.empty$411 = [5];
dojo$0formlets$1.changer$412 = function(el$415,sfs$418){return [6,[el$415,sfs$418,1]];
};
dojo$0formlets$1.space$419 = [4,[[1],document.createTextNode(""),1]];
dojo$0formlets$1.elem$420 = function(lopt$423,x$426){return [4,[lopt$423,x$426,1]];
};
dojo$0formlets$1.value$472 = function(e0$475){return [[0,e0$475],function(v$476){return [1,v$476];
},function(v$1804){switch (v$1804[0]) { case 1: {return v$1804[1];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: unSgen"];
} };
}];
};
dojo$0formlets$1.readonly$477 = function(e0$480){return [[1,e0$480],function(v$481){return [3,v$481];
},function(v$1807){switch (v$1807[0]) { case 3: {return v$1807[1];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: unBgen"];
} };
}];
};
dojo$0formlets$1.enabled$482 = function(e0$485){return [[3,e0$485],function(v$486){return [3,v$486];
},function(v$1810){switch (v$1810[0]) { case 3: {return v$1810[1];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: unBgen"];
} };
}];
};
dojo$0formlets$1.s$ss$487 = function(v$511,v$6564){var v$512 = v$511[0];
var v$513 = v$511[1];
var v$514 = v$511[2];
var v$516 = v$6564[0];
var v$517 = v$6564[1];
var v$518 = v$6564[2];
return [[2,[v$512,v$516]],function(v$499){var v$500 = v$499[0];
var v$501 = v$499[1];
return [2,[v$513(v$500),v$517(v$501)]];
},function(g$504){var v$508;
switch (g$504[0]) { case 2: {var v$1814 = g$504[1];
v$508 = [v$1814[0],v$1814[1]];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: unPgen"];
} };
var v$509 = v$508[0];
var v$510 = v$508[1];
return [v$514(v$509),v$518(v$510)];
}];
};
dojo$0formlets$1.emp$519 = [[4],function(v$521){return [0];
},function(v$525){switch (v$525[0]) { case 0: {return 0;
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: unUgen"];
} };
}];
dojo$0formlets$1.s$cc$526 = function(v$6565,v$6566){return [v$6565,v$6566];
};
dojo$0formlets$1.en$AbortRule$533 = new String("AbortRule");
dojo$0formlets$1.exn$AbortRule$533 = [dojo$0formlets$1.en$AbortRule$533];
var en$FormletError$534 = new String("FormletError");
dojo$0formlets$1.all_rule$541 = function(v$542){return [5,v$542];
};
dojo$0formlets$1.init_rule$543 = function(v$6567,v$6568,v$6569){return function(g$549){return [4,[v$6567,function(x$1822){return v$6568(g$549(x$1822));
}]];
};
};
dojo$0formlets$1.load_rule$558 = function(f$561){return [3,f$561];
};
dojo$0formlets$1.update_rule$562 = function(v$6570,v$6571,v$6572){return function(f2$568){return function(g$571){var t$6689;
var t$6688 = [1];
var t$6687 = v$6570;
var t$6686 = f2$568[0];
var t$6685;
var v$2939;
var v$2941 = f2$568[1];
v$2939 = (function(x$1830){return v$2941(g$571(x$1830));
});
t$6685 = (function(x$1826){return v$2939(v$6572(x$1826));
});
t$6689 = [t$6688,t$6687,t$6686,t$6685];
return [0,t$6689];
};
};
};
dojo$0formlets$1.postupdate_rule$588 = function(v$6573,v$6574,v$6575){return function(f2$594){return function(g$597){var t$6693;
var t$6692 = v$6573;
var t$6691 = f2$594[0];
var t$6690;
var v$2943;
var v$2945 = f2$594[1];
v$2943 = (function(x$1838){return v$2945(g$597(x$1838));
});
t$6690 = (function(x$1834){return v$2943(v$6575(x$1834));
});
t$6693 = [t$6692,t$6691,t$6690];
return [2,t$6693];
};
};
};
dojo$0formlets$1.button_rule$614 = function(e$617,f1$620,f2$623,g$626){var t$6698;
var t$6697 = [0,e$617];
var t$6696 = f1$620[0];
var t$6695 = f2$623[0];
var t$6694;
var v$2947;
var v$2949 = f2$623[1];
v$2947 = (function(x$1846){return v$2949(g$626(x$1846));
});
var v$2948 = f1$620[2];
t$6694 = (function(x$1842){return v$2947(v$2948(x$1842));
});
t$6698 = [t$6697,t$6696,t$6695,t$6694];
return [0,t$6698];
};
dojo$0formlets$1.validate_rule$643 = function(v$6576,v$6577,v$6578){return function(g$649){var t$6705;
var t$6704 = [1];
var t$6703 = v$6576;
var t$6702 = dojo$0formlets$1.emp$519[0];
var t$6699;
var v$2951;
var v$2953 = dojo$0formlets$1.emp$519[1];
v$2951 = (function(x$1854){var t$6701 = v$2953;
var t$6700;
var v$3201 = g$649(x$1854);
switch (v$3201[0]) { case 1: {t$6700 = 0;
 break; }default: {var v$3202 = v$3201[1];
throw [en$FormletError$534,v$3202];
} };
return t$6701(t$6700);
});
t$6699 = (function(x$1857){return v$2951(v$6578(x$1857));
});
t$6705 = [t$6704,t$6703,t$6702,t$6699];
return [0,t$6705];
};
};
dojo$0formlets$1.submit_rule$659 = function(e$662,f$665){return [1,[e$662,f$665]];
};
var spantd$710 = function(v$713,v$716){switch (v$713) { case 1: {var attrs$1892 = [["style","vertical-align:top;"],null];
var newelem$1894 = document.createElement("td");
var fix$6706 = {};
fix$6706.$app = function(v$1896){lab$app: while (true) {if (v$1896 == null) {return 0;
} else {var v$1897 = v$1896;
var v$1898 = v$1897[0];
var v$1899 = v$1897[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$1894,v$1898[0],v$1898[1]);
var t$6707 = v$1899;
var v$1896 = t$6707;
continue lab$app;
};
};
};
var app$1895 = fix$6706.$app;
app$1895(attrs$1892);
(function(e,a){return e.appendChild(a);})(newelem$1894,v$716);
return newelem$1894;
 break; }default: {var attrs$1901 = [["colspan",basis$0Int32$1.toString$454(v$713)],[["style","vertical-align:top;"],null]];
var newelem$1903 = document.createElement("td");
var fix$6708 = {};
fix$6708.$app = function(v$1905){lab$app: while (true) {if (v$1905 == null) {return 0;
} else {var v$1906 = v$1905;
var v$1907 = v$1906[0];
var v$1908 = v$1906[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$1903,v$1907[0],v$1907[1]);
var t$6709 = v$1908;
var v$1905 = t$6709;
continue lab$app;
};
};
};
var app$1904 = fix$6708.$app;
app$1904(attrs$1901);
(function(e,a){return e.appendChild(a);})(newelem$1903,v$716);
return newelem$1903;
} };
};
var fix$6710 = {};
fix$6710.$mkForms = function(v$1017){if (v$1017 == null) {var a$2295 = [null,null];
return function(f$2296){return f$2296(a$2295);
};
} else {var v$1036 = v$1017;
var v$1037 = v$1036[0];
var v$1038 = v$1036[1];
var v$3023 = fix$6710.$mkForm(v$1037);
return function(c$2300){return v$3023(function(v$2301){var v$3705 = v$2301[0];
var v$3706 = v$2301[1];
var v$3707 = fix$6710.$mkForms(v$1038);
return v$3707(function(v$3709){var v$3710 = v$3709[0];
var v$3711 = v$3709[1];
var a$3712 = [basis$0List$1.s$n$682(v$3705,v$3710),[v$3706,v$3711]];
return c$2300(a$3712);
});
});
};
};
};
fix$6710.$mkForm = function(form$732){switch (form$732[0]) { case 1: {var v$837 = form$732[1];
var v$838 = v$837[0];
var v$839 = v$838[0];
switch (v$839[0]) { case 2: {var v$878 = v$838[2];
var v$879 = v$838[3];
var v$880 = v$838[1];
var v$881 = v$837[1];
var listeners$863 = [null];
var v$2961 = dojo$0dojo$1.mk$1607([["label",v$879],null],function(v$1940){var fix$6843 = {};
fix$6843.$app = function(v$1942){lab$app: while (true) {if (v$1942 == null) {return 0;
} else {var v$1943 = v$1942;
var v$1944 = v$1943[0];
var v$1945 = v$1943[1];
v$1944(0);
var t$6844 = v$1945;
var v$1942 = t$6844;
continue lab$app;
};
};
};
var app$1941 = fix$6843.$app;
return app$1941(listeners$863[0]);
});
return function(c$1938){return v$2961(function(v$1939){var e$3239 = (function(fp,s){return fp[s];})(v$1939,"domNode");
var a$3240 = [[[v$880,v$878,[2,[v$1939,function(f$3241){return (listeners$863[0] = [f$3241,listeners$863[0]],0);
}]]],null],spantd$710(v$881,e$3239)];
return c$1938(a$3240);
});
};
 break; }case 1: {var v$856 = v$839[1];
var v$857 = v$856[0];
var v$858 = v$856[1];
var v$859 = v$838[2];
var v$860 = v$838[3];
var v$861 = v$838[1];
var v$862 = v$837[1];
var v$2965;
var v$1958 = v$857[0];
var v$1959 = v$857[1];
v$2965 = (v$1959(v$1958));
return function(c$1955){return v$2965(function(v$1956){var e$3266 = spantd$710(v$862,(function(fp,s){return fp[s];})(v$1956[0],"domNode"));
var e$3267;
if ((v$860 == "")?false:true) {var v$3269;
var attrs$3270 = [["class","formlets-label-td"],null];
var elem$3271 = document.createTextNode(v$860);
var newelem$3272 = document.createElement("td");
var fix$6841 = {};
fix$6841.$app = function(v$3274){lab$app: while (true) {if (v$3274 == null) {return 0;
} else {var v$3275 = v$3274;
var v$3276 = v$3275[0];
var v$3277 = v$3275[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$3272,v$3276[0],v$3276[1]);
var t$6842 = v$3277;
var v$3274 = t$6842;
continue lab$app;
};
};
};
var app$3273 = fix$6841.$app;
app$3273(attrs$3270);
(function(e,a){return e.appendChild(a);})(newelem$3272,elem$3271);
v$3269 = newelem$3272;
var e$3278 = document.createDocumentFragment();
(function(e,a){return e.appendChild(a);})(e$3278,v$3269);
(function(e,a){return e.appendChild(a);})(e$3278,e$3266);
e$3267 = e$3278;
} else {e$3267 = e$3266;
};
if ((v$858 == "")?false:true) {var v$3280 = v$1956[0];
var v$3281 = v$1956[1];
var s$3282 = v$3281[6](v$858);
switch (v$3281[2]) { case "dijit/form/DateTextBox": {(s$3282 == "")?((function(obj,k){obj.set(k,null);})(v$3280,"value")):((function(obj,a1,a2){return obj.set(a1,a2);})(v$3280,"value",(function(s){return new Date(Date.parse(s));})(s$3282)));
 break; }default: {(function(obj,p,v){obj.set(p,v);})(v$3280,"value",s$3282);
} };
} else {0;
};
var a$3283 = [[[v$861,v$859,[1,v$1956]],null],e$3267];
return c$1955(a$3283);
});
};
 break; }default: {var v$882 = v$839[1];
var v$883 = v$838[2];
var v$885 = v$838[1];
var a$1990 = [[[v$885,v$883,[0,v$882]],null],document.createTextNode("")];
return function(f$1991){return f$1991(a$1990);
};
} };
 break; }case 0: {var v$835 = form$732[1];
var v$2973 = fix$6710.$mkForms(v$835);
return function(c$1996){return v$2973(function(v$1997){var v$3345 = v$1997[0];
var v$3346 = v$1997[1];
var trs$3347;
var t$6831;
var v$3348 = document.createTextNode("");
var fix$6832 = {};
fix$6832.$foldr = function(v$3350){if (v$3350 == null) {return v$3348;
} else {var v$3351 = v$3350;
var v$3352 = v$3351[0];
var v$3353 = v$3351[1];
var v$3354 = fix$6832.$foldr(v$3353);
var v$3355;
var attrs$3356 = null;
var newelem$3357 = document.createElement("tr");
var fix$6833 = {};
fix$6833.$app = function(v$3359){lab$app: while (true) {if (v$3359 == null) {return 0;
} else {var v$3360 = v$3359;
var v$3361 = v$3360[0];
var v$3362 = v$3360[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$3357,v$3361[0],v$3361[1]);
var t$6834 = v$3362;
var v$3359 = t$6834;
continue lab$app;
};
};
};
var app$3358 = fix$6833.$app;
app$3358(attrs$3356);
(function(e,a){return e.appendChild(a);})(newelem$3357,v$3352);
v$3355 = newelem$3357;
var e$3363 = document.createDocumentFragment();
(function(e,a){return e.appendChild(a);})(e$3363,v$3355);
(function(e,a){return e.appendChild(a);})(e$3363,v$3354);
return e$3363;
};
};
var foldr$3349 = fix$6832.$foldr;
t$6831 = (function(v$6668){return foldr$3349(v$6668);
});
trs$3347 = (t$6831(v$3346));
var a$3364;
var t$6840 = v$3345;
var t$6835;
var attrs$3365 = [["style","vertical-align:top;"],null];
var elem$3366;
var attrs$3367 = [["style","width:100%;"],null];
var newelem$3368 = document.createElement("table");
var fix$6836 = {};
fix$6836.$app = function(v$3370){lab$app: while (true) {if (v$3370 == null) {return 0;
} else {var v$3371 = v$3370;
var v$3372 = v$3371[0];
var v$3373 = v$3371[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$3368,v$3372[0],v$3372[1]);
var t$6837 = v$3373;
var v$3370 = t$6837;
continue lab$app;
};
};
};
var app$3369 = fix$6836.$app;
app$3369(attrs$3367);
(function(e,a){return e.appendChild(a);})(newelem$3368,trs$3347);
elem$3366 = newelem$3368;
var newelem$3374 = document.createElement("td");
var fix$6838 = {};
fix$6838.$app = function(v$3376){lab$app: while (true) {if (v$3376 == null) {return 0;
} else {var v$3377 = v$3376;
var v$3378 = v$3377[0];
var v$3379 = v$3377[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$3374,v$3378[0],v$3378[1]);
var t$6839 = v$3379;
var v$3376 = t$6839;
continue lab$app;
};
};
};
var app$3375 = fix$6838.$app;
app$3375(attrs$3365);
(function(e,a){return e.appendChild(a);})(newelem$3374,elem$3366);
t$6835 = newelem$3374;
a$3364 = [t$6840,t$6835];
return c$1996(a$3364);
});
};
 break; }case 2: {var v$820 = form$732[1];
var v$2979 = fix$6710.$mkForms(v$820);
return function(c$2063){return v$2979(function(v$2064){var v$3411 = v$2064[0];
var v$3412 = v$2064[1];
var e$3413;
var t$6829;
var v$3414 = document.createTextNode("");
var fix$6830 = {};
fix$6830.$foldr = function(v$3416){if (v$3416 == null) {return v$3414;
} else {var v$3417 = v$3416;
var v$3418 = v$3417[0];
var v$3419 = v$3417[1];
var v$3420 = fix$6830.$foldr(v$3419);
var e$3421 = document.createDocumentFragment();
(function(e,a){return e.appendChild(a);})(e$3421,v$3418);
(function(e,a){return e.appendChild(a);})(e$3421,v$3420);
return e$3421;
};
};
var foldr$3415 = fix$6830.$foldr;
t$6829 = (function(v$6669){return foldr$3415(v$6669);
});
e$3413 = (t$6829(v$3412));
var a$3422 = [v$3411,e$3413];
return c$2063(a$3422);
});
};
 break; }case 3: {var v$802 = form$732[1];
var v$803 = v$802[0];
var v$804 = v$802[1];
var v$805 = v$802[2];
var v$2985 = fix$6710.$mkForm(v$804);
return function(c$2094){return v$2985(function(v$2095){var v$3532 = v$2095[0];
var v$3533 = v$2095[1];
var v$3534;
var e$3535;
var attrs$3536 = [["style","width:100%;"],null];
var elem$3537;
var attrs$3538 = null;
var newelem$3539 = document.createElement("tr");
var fix$6823 = {};
fix$6823.$app = function(v$3541){lab$app: while (true) {if (v$3541 == null) {return 0;
} else {var v$3542 = v$3541;
var v$3543 = v$3542[0];
var v$3544 = v$3542[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$3539,v$3543[0],v$3543[1]);
var t$6824 = v$3544;
var v$3541 = t$6824;
continue lab$app;
};
};
};
var app$3540 = fix$6823.$app;
app$3540(attrs$3538);
(function(e,a){return e.appendChild(a);})(newelem$3539,v$3533);
elem$3537 = newelem$3539;
var newelem$3545 = document.createElement("table");
var fix$6825 = {};
fix$6825.$app = function(v$3547){lab$app: while (true) {if (v$3547 == null) {return 0;
} else {var v$3548 = v$3547;
var v$3549 = v$3548[0];
var v$3550 = v$3548[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$3545,v$3549[0],v$3549[1]);
var t$6826 = v$3550;
var v$3547 = t$6826;
continue lab$app;
};
};
};
var app$3546 = fix$6825.$app;
app$3546(attrs$3536);
(function(e,a){return e.appendChild(a);})(newelem$3545,elem$3537);
e$3535 = newelem$3545;
var v$3551;
var v$6579 = [["style","height:auto;width:100%;"],null];
v$3551 = (function(v$6581){return dojo$0dojo$1.pane$333(v$6579,e$3535,v$6581);
});
v$3534 = (function(c$3552){return v$3551(function(v$3553){var v$3554;
var v$6582 = [["title",v$803],null];
v$3554 = (function(v$6584){return dojo$0dojo$1.titlePane$388(v$6582,v$3553,v$6584);
});
return v$3554(function(v$3555){(function(w,k,v){w.set(k,v);})(v$3555,"toggleable",false);
var attr$3556 = [["style","vertical-align:top;"],null];
var attr$3557 = (v$805 == 1)?attr$3556:[["colspan",basis$0Int32$1.toString$454(v$805)],attr$3556];
var parent$3558;
var newelem$3559 = document.createElement("td");
var fix$6827 = {};
fix$6827.$app = function(v$3561){lab$app: while (true) {if (v$3561 == null) {return 0;
} else {var v$3562 = v$3561;
var v$3563 = v$3562[0];
var v$3564 = v$3562[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$3559,v$3563[0],v$3563[1]);
var t$6828 = v$3564;
var v$3561 = t$6828;
continue lab$app;
};
};
};
var app$3560 = fix$6827.$app;
app$3560(attr$3557);
parent$3558 = newelem$3559;
dojo$0dojo$1.attachToElement$197(parent$3558,function(f$3565){return f$3565(v$3555);
},function(v$3566){return 0;
});
return c$3552(parent$3558);
});
});
});
return v$3534(function(v$3568){var a$3569 = [v$3532,v$3568];
return c$2094(a$3569);
});
});
};
 break; }case 5: {var a$2156 = [null,document.createTextNode("")];
return function(f$2157){return f$2157(a$2156);
};
 break; }case 4: {var v$785 = form$732[1];
var v$786 = v$785[0];
switch (v$786[0]) { case 1: {var v$787 = v$785[1];
var v$788 = v$785[2];
var a$2159 = [null,spantd$710(v$788,v$787)];
return function(f$2160){return f$2160(a$2159);
};
 break; }default: {var v$789 = v$786[1];
var v$790 = v$785[1];
var v$791 = v$785[2];
var a$2161;
var t$6822 = null;
var t$6819;
var v$2995;
var attrs$2168 = [["class","formlets-label-td"],null];
var elem$2169 = document.createTextNode(v$789);
var newelem$2170 = document.createElement("td");
var fix$6820 = {};
fix$6820.$app = function(v$2172){lab$app: while (true) {if (v$2172 == null) {return 0;
} else {var v$2173 = v$2172;
var v$2174 = v$2173[0];
var v$2175 = v$2173[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$2170,v$2174[0],v$2174[1]);
var t$6821 = v$2175;
var v$2172 = t$6821;
continue lab$app;
};
};
};
var app$2171 = fix$6820.$app;
app$2171(attrs$2168);
(function(e,a){return e.appendChild(a);})(newelem$2170,elem$2169);
v$2995 = newelem$2170;
var v$2996 = spantd$710(v$791,v$790);
var e$2166 = document.createDocumentFragment();
(function(e,a){return e.appendChild(a);})(e$2166,v$2995);
(function(e,a){return e.appendChild(a);})(e$2166,v$2996);
t$6819 = e$2166;
a$2161 = [t$6822,t$6819];
return function(f$2162){return f$2162(a$2161);
};
} };
 break; }default: {var v$886 = form$732[1];
var v$887 = v$886[0];
var v$888 = v$887[0];
switch (v$888[0]) { case 0: {var v$1010 = v$888[1];
var v$1011 = v$887[2];
var v$1012 = v$887[1];
var v$1013 = v$886[1];
var v$1014 = v$886[2];
var v$2997 = fix$6710.$mkKeyForms(v$1013);
return function(c$2180){return v$2997(function(v$2181){var t$6845;
var v$3628 = v$2181[0];
var v$3629 = v$2181[1];
if (v$3629 == null) {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Changer requires at least one possibility"];
} else {var v$3630 = v$3629;
var v$3631 = v$3630[0];
var v$3632 = v$3631[0];
var v$3633 = v$3631[1];
var e$3634;
var v$3635 = v$1010[1][0];
switch (v$3635) { case "": {(v$1010[1][0] = v$3632,0);
e$3634 = v$3633;
 break; }default: {var v$3636;
var fix$6846 = {};
fix$6846.$find = function(v$3638,v$3639){lab$find: while (true) {if (v$3638 == null) {return [1];
} else {var v$3640 = v$3638;
var v$3641 = v$3640[0];
var v$3642 = v$3641[0];
var v$3643 = v$3641[1];
var v$3644 = v$3640[1];
if (v$3642 == v$3639) {return [0,v$3643];
} else {var t$6847 = v$3644;
var t$6848 = v$3639;
var v$3638 = t$6847;
var v$3639 = t$6848;
continue lab$find;
};
};
};
};
var find$3637 = fix$6846.$find;
v$3636 = (find$3637(v$3629,v$3635));
switch (v$3636[0]) { case 0: {e$3634 = v$3636[1];
 break; }default: {(v$1010[1][0] = v$3632,0);
e$3634 = v$3633;
} };
} };
var e0$3646;
var attrs$3647 = null;
var newelem$3648 = document.createElement("tr");
var fix$6849 = {};
fix$6849.$app = function(v$3650){lab$app: while (true) {if (v$3650 == null) {return 0;
} else {var v$3651 = v$3650;
var v$3652 = v$3651[0];
var v$3653 = v$3651[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$3648,v$3652[0],v$3652[1]);
var t$6850 = v$3653;
var v$3650 = t$6850;
continue lab$app;
};
};
};
var app$3649 = fix$6849.$app;
app$3649(attrs$3647);
(function(e,a){return e.appendChild(a);})(newelem$3648,e$3634);
e0$3646 = newelem$3648;
var t$3654;
var attrs$3655 = [["style","width:100%;border-spacing:0;border:none;"],null];
var newelem$3656 = document.createElement("table");
var fix$6851 = {};
fix$6851.$app = function(v$3658){lab$app: while (true) {if (v$3658 == null) {return 0;
} else {var v$3659 = v$3658;
var v$3660 = v$3659[0];
var v$3661 = v$3659[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$3656,v$3660[0],v$3660[1]);
var t$6852 = v$3661;
var v$3658 = t$6852;
continue lab$app;
};
};
};
var app$3657 = fix$6851.$app;
app$3657(attrs$3655);
(function(e,a){return e.appendChild(a);})(newelem$3656,e0$3646);
t$3654 = newelem$3656;
var fix$6853 = {};
fix$6853.$look = function(v$3663){lab$look: while (true) {if (v$3663 == null) {return false;
} else {var v$3664 = v$3663;
var v$3665 = v$3664[0];
var v$3666 = v$3665[0];
var v$3667 = v$3664[1];
if (v$1012 == v$3666) {return true;
} else {var t$6854 = v$3667;
var v$3663 = t$6854;
continue lab$look;
};
};
};
};
var look$3662 = fix$6853.$look;
var kvs$3668 = (look$3662(v$3628))?v$3628:[[v$1012,v$1011,[0,v$1010]],v$3628];
(v$1010[0][0] = [function(s$3669){var v$3670;
var fix$6855 = {};
fix$6855.$find = function(v$3672,v$3673){lab$find: while (true) {if (v$3672 == null) {return [1];
} else {var v$3674 = v$3672;
var v$3675 = v$3674[0];
var v$3676 = v$3675[0];
var v$3677 = v$3675[1];
var v$3678 = v$3674[1];
if (v$3676 == v$3673) {return [0,v$3677];
} else {var t$6856 = v$3678;
var t$6857 = v$3673;
var v$3672 = t$6856;
var v$3673 = t$6857;
continue lab$find;
};
};
};
};
var find$3671 = fix$6855.$find;
v$3670 = (find$3671(v$3629,s$3669));
switch (v$3670[0]) { case 0: {var v$3679 = v$3670[1];
removeChildren$75(e0$3646);
return (function(e,a){return e.appendChild(a);})(e0$3646,v$3679);
 break; }default: {var s$3680 = "changer: cannot find element for " + s$3669;
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$3680];
} };
},v$1010[0][0]],0);
var a$3681 = [kvs$3668,spantd$710(v$1014,t$3654)];
t$6845 = (function(f$3682){return f$3682(a$3681);
});
};
return t$6845(c$2180);
});
};
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Changer requires hidden field"];
} };
} };
};
fix$6710.$mkKeyForms = function(v$1041){if (v$1041 == null) {var a$1909 = [null,null];
return function(f$1910){return f$1910(a$1909);
};
} else {var v$1061 = v$1041;
var v$1062 = v$1061[0];
var v$1063 = v$1062[0];
var v$1064 = v$1062[1];
var v$1065 = v$1061[1];
var v$2957 = fix$6710.$mkForm(v$1064);
return function(c$1914){return v$2957(function(v$1915){var v$3225 = v$1915[0];
var v$3226 = v$1915[1];
var v$3227 = fix$6710.$mkKeyForms(v$1065);
return v$3227(function(v$3229){var v$3230 = v$3229[0];
var v$3231 = v$3229[1];
var a$3232 = [basis$0List$1.s$n$682(v$3225,v$3230),[[v$1063,v$3226],v$3231]];
return c$1914(a$3232);
});
});
};
};
};
var mkForms$728 = fix$6710.$mkForms;
var mkForm$729 = fix$6710.$mkForm;
var mkKeyForms$727 = fix$6710.$mkKeyForms;
var fix$6711 = {};
fix$6711.$upd = function(kvs$1155,f0$1158,g$1161){lab$upd: while (true) {switch (f0$1158[0]) { case 0: {var v$1247 = f0$1158[1];
var v$1248 = v$1247[1];
var v$1249 = v$1247[2];
var v$1226;
var fix$6724 = {};
fix$6724.$lookup = function(v$2365,v$2367){lab$lookup: while (true) {if (v$2365 == null) {return [1];
} else {var v$2373 = v$2365;
var v$2374 = v$2373[0];
var v$2375 = v$2374[0];
var v$2376 = v$2374[2];
var v$2377 = v$2373[1];
if (v$2367 == v$2375) {return [0,v$2376];
} else {var t$6725 = v$2377;
var t$6726 = v$2367;
var v$2365 = t$6725;
var v$2367 = t$6726;
continue lab$lookup;
};
};
};
};
var lookup$2364 = fix$6724.$lookup;
v$1226 = (lookup$2364(kvs$1155,v$1248));
switch (v$1226[0]) { case 0: {var v$1228 = v$1226[1];
switch (v$1228[0]) { case 1: {var v$1246 = v$1228[1];
var v$2390 = v$1246[0];
var v$2391 = v$1246[1];
var v$2392;
switch (g$1161[0]) { case 1: {v$2392 = g$1161[1];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: unSgen"];
} };
var s$2393 = v$2391[6](v$2392);
switch (v$2391[2]) { case "dijit/form/DateTextBox": {return (s$2393 == "")?((function(obj,k){obj.set(k,null);})(v$2390,"value")):((function(obj,a1,a2){return obj.set(a1,a2);})(v$2390,"value",(function(s){return new Date(Date.parse(s));})(s$2393)));
 break; }default: {return (function(obj,p,v){obj.set(p,v);})(v$2390,"value",s$2393);
} };
 break; }case 0: {var v$1244 = v$1228[1];
var s$1230;
switch (g$1161[0]) { case 1: {s$1230 = g$1161[1];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: unSgen"];
} };
(v$1244[1][0] = s$1230,0);
var fix$6727 = {};
fix$6727.$app = function(v$2405){lab$app: while (true) {if (v$2405 == null) {return 0;
} else {var v$2406 = v$2405;
var v$2407 = v$2406[0];
var v$2408 = v$2406[1];
v$2407(s$1230);
var t$6728 = v$2408;
var v$2405 = t$6728;
continue lab$app;
};
};
};
var app$2404 = fix$6727.$app;
return app$2404(v$1244[0][0]);
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.upd.button"];
} };
 break; }default: {var s$2413 = ((("Rules.upd.value: id " + (basis$0Int32$1.toString$454(v$1248))) + " (") + v$1249) + ") not present in form";
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$2413];
} };
 break; }case 1: {var v$1213 = f0$1158[1];
var v$1214 = v$1213[1];
var v$1215 = v$1213[2];
var v$1207;
var fix$6718 = {};
fix$6718.$lookup = function(v$2422,v$2424){lab$lookup: while (true) {if (v$2422 == null) {return [1];
} else {var v$2430 = v$2422;
var v$2431 = v$2430[0];
var v$2432 = v$2431[0];
var v$2433 = v$2431[2];
var v$2434 = v$2430[1];
if (v$2424 == v$2432) {return [0,v$2433];
} else {var t$6719 = v$2434;
var t$6720 = v$2424;
var v$2422 = t$6719;
var v$2424 = t$6720;
continue lab$lookup;
};
};
};
};
var lookup$2421 = fix$6718.$lookup;
v$1207 = (lookup$2421(kvs$1155,v$1214));
switch (v$1207[0]) { case 0: {var v$1209 = v$1207[1];
switch (v$1209[0]) { case 1: {var t$6723 = v$1209[1][0];
var t$6722 = "readOnly";
var t$6721;
switch (g$1161[0]) { case 3: {t$6721 = g$1161[1];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: unBgen"];
} };
return (function(w,k,v){w.set(k,v);})(t$6723,t$6722,t$6721);
 break; }case 0: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.upd.readonly.hidden"];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.upd.readonly.button"];
} };
 break; }default: {var s$2456 = ((("Rules.upd.readonly: id " + (basis$0Int32$1.toString$454(v$1214))) + " (") + v$1215) + ") not present in form";
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$2456];
} };
 break; }case 3: {var v$1195 = f0$1158[1];
var v$1196 = v$1195[1];
var v$1197 = v$1195[2];
var v$1189;
var fix$6712 = {};
fix$6712.$lookup = function(v$2465,v$2467){lab$lookup: while (true) {if (v$2465 == null) {return [1];
} else {var v$2473 = v$2465;
var v$2474 = v$2473[0];
var v$2475 = v$2474[0];
var v$2476 = v$2474[2];
var v$2477 = v$2473[1];
if (v$2467 == v$2475) {return [0,v$2476];
} else {var t$6713 = v$2477;
var t$6714 = v$2467;
var v$2465 = t$6713;
var v$2467 = t$6714;
continue lab$lookup;
};
};
};
};
var lookup$2464 = fix$6712.$lookup;
v$1189 = (lookup$2464(kvs$1155,v$1196));
switch (v$1189[0]) { case 0: {var v$1191 = v$1189[1];
switch (v$1191[0]) { case 1: {var t$6717 = v$1191[1][0];
var t$6716;
var t$6715;
switch (g$1161[0]) { case 3: {t$6715 = g$1161[1];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: unBgen"];
} };
t$6716 = (t$6715?false:true);
return (function(obj,a){return obj.setDisabled(a);})(t$6717,t$6716);
 break; }case 0: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.upd.enabled.hidden"];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.upd.enabled.button"];
} };
 break; }default: {var s$2500 = ((("Rules.upd.enabled." + (basis$0Int32$1.toString$454(v$1196))) + " (") + v$1197) + ") not present in form";
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$2500];
} };
 break; }case 4: {return 0;
 break; }default: {var v$1258 = f0$1158[1];
var v$1259 = v$1258[0];
var v$1260 = v$1258[1];
var v$1255;
switch (g$1161[0]) { case 2: {var v$2507 = g$1161[1];
v$1255 = [v$2507[0],v$2507[1]];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: unPgen"];
} };
var v$1256 = v$1255[0];
var v$1257 = v$1255[1];
fix$6711.$upd(kvs$1155,v$1259,v$1256);
var t$6729 = kvs$1155;
var t$6730 = v$1260;
var t$6731 = v$1257;
var kvs$1155 = t$6729;
var f0$1158 = t$6730;
var g$1161 = t$6731;
continue lab$upd;
} };
};
};
var upd$1152 = fix$6711.$upd;
dojo$0formlets$1.mk$1630 = function(v$1675,v$1676){return function(error_reporter$1637){var v$3179 = mkForm$729(v$1675);
return function(c$2801){return v$3179(function(v$2802){var v$5784 = v$2802[0];
var v$5785 = v$2802[1];
var v$5786 = dojo$0dojo$1.mk$1589(null);
return v$5786(function(v$5788){var form_elem$5789 = (function(fp,s){return fp[s];})(v$5788,"domNode");
var t$6737 = form_elem$5789;
var t$6732;
var attrs$5790 = [["style","width:100%;"],null];
var elem$5791;
var attrs$5792 = null;
var newelem$5793 = document.createElement("tr");
var fix$6733 = {};
fix$6733.$app = function(v$5795){lab$app: while (true) {if (v$5795 == null) {return 0;
} else {var v$5796 = v$5795;
var v$5797 = v$5796[0];
var v$5798 = v$5796[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$5793,v$5797[0],v$5797[1]);
var t$6734 = v$5798;
var v$5795 = t$6734;
continue lab$app;
};
};
};
var app$5794 = fix$6733.$app;
app$5794(attrs$5792);
(function(e,a){return e.appendChild(a);})(newelem$5793,v$5785);
elem$5791 = newelem$5793;
var newelem$5799 = document.createElement("table");
var fix$6735 = {};
fix$6735.$app = function(v$5801){lab$app: while (true) {if (v$5801 == null) {return 0;
} else {var v$5802 = v$5801;
var v$5803 = v$5802[0];
var v$5804 = v$5802[1];
(function(e,a,b){return e.setAttribute(a,b);})(newelem$5799,v$5803[0],v$5803[1]);
var t$6736 = v$5804;
var v$5801 = t$6736;
continue lab$app;
};
};
};
var app$5800 = fix$6735.$app;
app$5800(attrs$5790);
(function(e,a){return e.appendChild(a);})(newelem$5799,elem$5791);
t$6732 = newelem$5799;
(function(e,a){return e.appendChild(a);})(t$6737,t$6732);
var guard$5805 = [true];
var v$5806;
var v$6595 = [["style","height:100%;overflow:auto;"],null];
v$5806 = (function(v$6597){return dojo$0dojo$1.pane$333(v$6595,form_elem$5789,v$6597);
});
return v$5806(function(v$5807){var t$6739;
var v$5808;
var fix$6738 = {};
fix$6738.$setupRule = function(r$6339){switch (r$6339[0]) { case 4: {var v$6340 = r$6339[1];
var v$6341 = v$6340[0];
var v$6342 = v$6340[1];
try {return upd$1152(v$5784,v$6341,v$6342(0));
} catch(v$6783) {return (function(AbortRule$6343){var t$6784 = AbortRule$6343;
if (t$6784[0] == dojo$0formlets$1.en$AbortRule$533) {return 0;
} else {throw AbortRule$6343;
};
})(v$6783);
};
 break; }case 0: {var v$6344 = r$6339[1];
var v$6345 = v$6344[0];
switch (v$6345[0]) { case 1: {var v$6346 = v$6344[1];
var v$6347 = v$6344[2];
var v$6348 = v$6344[3];
var fix$6754 = {};
fix$6754.$inst = function(f0$6350,f$6351){lab$inst: while (true) {switch (f0$6350[0]) { case 0: {var v$6352 = f0$6350[1];
var v$6353 = v$6352[1];
var v$6354;
var fix$6755 = {};
fix$6755.$lookup = function(v$6356,v$6357){lab$lookup: while (true) {if (v$6356 == null) {return [1];
} else {var v$6358 = v$6356;
var v$6359 = v$6358[0];
var v$6360 = v$6359[0];
var v$6361 = v$6359[2];
var v$6362 = v$6358[1];
if (v$6357 == v$6360) {return [0,v$6361];
} else {var t$6756 = v$6362;
var t$6757 = v$6357;
var v$6356 = t$6756;
var v$6357 = t$6757;
continue lab$lookup;
};
};
};
};
var lookup$6355 = fix$6755.$lookup;
v$6354 = (lookup$6355(v$5784,v$6353));
switch (v$6354[0]) { case 0: {var v$6363 = v$6354[1];
switch (v$6363[0]) { case 1: {var v$6364 = v$6363[1];
return (dojo$0dojo$1.onChange$1555(v$6364[0],v$6364[1]))((function(env$6761){return function(v$6365){var v$6760 = env$6761[0];
return v$6760(0);
};
})([f$6351]));
 break; }case 0: {var v$6366 = v$6363[1];
return (v$6366[0][0] = [(function(env$6759){return function(v$6367){var v$6758 = env$6759[0];
return v$6758(0);
};
})([f$6351]),v$6366[0][0]],0);
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.inst.button"];
} };
 break; }default: {var s$6368 = "Rules.inst." + (basis$0Int32$1.toString$454(v$6353));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6368];
} };
 break; }case 1: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.inst.readonly not implemented"];
 break; }case 3: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.inst.enabled not implemented"];
 break; }case 4: {return 0;
 break; }default: {var v$6369 = f0$6350[1];
var v$6370 = v$6369[0];
var v$6371 = v$6369[1];
fix$6754.$inst(v$6370,f$6351);
var t$6762 = v$6371;
var t$6763 = f$6351;
var f0$6350 = t$6762;
var f$6351 = t$6763;
continue lab$inst;
} };
};
};
var inst$6349 = fix$6754.$inst;
return inst$6349(v$6346,function(v$6620){var v$6621;
try {var t$6766;
var fix$6765 = {};
fix$6765.$get = function(f0$6623){switch (f0$6623[0]) { case 0: {var v$6624 = f0$6623[1];
var v$6625 = v$6624[1];
var v$6626;
var fix$6767 = {};
fix$6767.$lookup = function(v$6628,v$6629){lab$lookup: while (true) {if (v$6628 == null) {return [1];
} else {var v$6630 = v$6628;
var v$6631 = v$6630[0];
var v$6632 = v$6631[0];
var v$6633 = v$6631[2];
var v$6634 = v$6630[1];
if (v$6629 == v$6632) {return [0,v$6633];
} else {var t$6768 = v$6634;
var t$6769 = v$6629;
var v$6628 = t$6768;
var v$6629 = t$6769;
continue lab$lookup;
};
};
};
};
var lookup$6627 = fix$6767.$lookup;
v$6626 = (lookup$6627(v$5784,v$6625));
switch (v$6626[0]) { case 0: {var v$6635 = v$6626[1];
switch (v$6635[0]) { case 1: {var v$6636 = v$6635[1];
return [1,dojo$0dojo$1.getValue$1450(v$6636[0],v$6636[1])];
 break; }case 0: {return [1,v$6635[1][1][0]];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.get.button"];
} };
 break; }default: {var s$6637 = "Rules.get." + (basis$0Int32$1.toString$454(v$6625));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6637];
} };
 break; }case 1: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.get.readonly not implemented"];
 break; }case 3: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.get.enabled not implemented"];
 break; }case 4: {return [0];
 break; }default: {var v$6638 = f0$6623[1];
var v$6639 = v$6638[0];
var v$6640 = v$6638[1];
return [2,[fix$6765.$get(v$6639),fix$6765.$get(v$6640)]];
} };
};
var get$6622 = fix$6765.$get;
t$6766 = (get$6622(v$6346));
v$6621 = [0,t$6766];
} catch(v$6764) {v$6621 = ((function(v$6641){return [1];
})(v$6764));
};
switch (v$6621[0]) { case 0: {var v$6642 = v$6621[1];
try {return upd$1152(v$5784,v$6347,v$6348(v$6642));
} catch(v$6770) {return (function(v$6643){var t$6771 = v$6643;
if (t$6771[0] == dojo$0formlets$1.en$AbortRule$533) {return 0;
} else {if (t$6771[0] == en$FormletError$534) {var s$6644 = v$6643[1];
error_reporter$1637(s$6644);
throw [basis$0Initial$1.en$Fail$50,"formlet error"];
} else {throw v$6643;
};
};
})(v$6770);
};
 break; }default: {return 0;
} };
});
 break; }default: {var v$6397 = v$6345[1];
var v$6398 = v$6397[1];
var v$6399 = v$6344[1];
var v$6400 = v$6344[2];
var v$6401 = v$6344[3];
var v$6402;
var fix$6772 = {};
fix$6772.$lookup = function(v$6404,v$6405){lab$lookup: while (true) {if (v$6404 == null) {return [1];
} else {var v$6406 = v$6404;
var v$6407 = v$6406[0];
var v$6408 = v$6407[0];
var v$6409 = v$6407[2];
var v$6410 = v$6406[1];
if (v$6405 == v$6408) {return [0,v$6409];
} else {var t$6773 = v$6410;
var t$6774 = v$6405;
var v$6404 = t$6773;
var v$6405 = t$6774;
continue lab$lookup;
};
};
};
};
var lookup$6403 = fix$6772.$lookup;
v$6402 = (lookup$6403(v$5784,v$6398));
switch (v$6402[0]) { case 0: {var v$6411 = v$6402[1];
switch (v$6411[0]) { case 2: {var v$6412 = v$6411[1];
var v$6413 = v$6412[1];
return v$6413(function(v$6414){var v$6415;
try {var t$6777;
var fix$6776 = {};
fix$6776.$get = function(f0$6417){switch (f0$6417[0]) { case 0: {var v$6418 = f0$6417[1];
var v$6419 = v$6418[1];
var v$6420;
var fix$6778 = {};
fix$6778.$lookup = function(v$6422,v$6423){lab$lookup: while (true) {if (v$6422 == null) {return [1];
} else {var v$6424 = v$6422;
var v$6425 = v$6424[0];
var v$6426 = v$6425[0];
var v$6427 = v$6425[2];
var v$6428 = v$6424[1];
if (v$6423 == v$6426) {return [0,v$6427];
} else {var t$6779 = v$6428;
var t$6780 = v$6423;
var v$6422 = t$6779;
var v$6423 = t$6780;
continue lab$lookup;
};
};
};
};
var lookup$6421 = fix$6778.$lookup;
v$6420 = (lookup$6421(v$5784,v$6419));
switch (v$6420[0]) { case 0: {var v$6429 = v$6420[1];
switch (v$6429[0]) { case 1: {var v$6430 = v$6429[1];
return [1,dojo$0dojo$1.getValue$1450(v$6430[0],v$6430[1])];
 break; }case 0: {return [1,v$6429[1][1][0]];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.get.button"];
} };
 break; }default: {var s$6431 = "Rules.get." + (basis$0Int32$1.toString$454(v$6419));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6431];
} };
 break; }case 1: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.get.readonly not implemented"];
 break; }case 3: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.get.enabled not implemented"];
 break; }case 4: {return [0];
 break; }default: {var v$6432 = f0$6417[1];
var v$6433 = v$6432[0];
var v$6434 = v$6432[1];
return [2,[fix$6776.$get(v$6433),fix$6776.$get(v$6434)]];
} };
};
var get$6416 = fix$6776.$get;
t$6777 = (get$6416(v$6399));
v$6415 = [0,t$6777];
} catch(v$6775) {v$6415 = ((function(v$6435){return [1];
})(v$6775));
};
switch (v$6415[0]) { case 0: {var v$6436 = v$6415[1];
try {return upd$1152(v$5784,v$6400,v$6401(v$6436));
} catch(v$6781) {return (function(v$6437){var t$6782 = v$6437;
if (t$6782[0] == dojo$0formlets$1.en$AbortRule$533) {return 0;
} else {if (t$6782[0] == en$FormletError$534) {var s$6438 = v$6437[1];
error_reporter$1637(s$6438);
throw [basis$0Initial$1.en$Fail$50,"formlet error"];
} else {throw v$6437;
};
};
})(v$6781);
};
 break; }default: {return 0;
} };
});
 break; }case 0: {var s$6439 = "Rules.setupRule.expecting button - got hidden for " + (basis$0Int32$1.toString$454(v$6398));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6439];
 break; }default: {var s$6440 = "Rules.setupRule.expecting button - got ed for " + (basis$0Int32$1.toString$454(v$6398));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6440];
} };
 break; }default: {var s$6441 = "Rules.setupRule.expecting button - got nothing for " + (basis$0Int32$1.toString$454(v$6398));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6441];
} };
} };
 break; }case 2: {return 0;
 break; }case 1: {var v$6442 = r$6339[1];
var v$6443 = v$6442[0];
var v$6444 = v$6443[1];
var v$6445 = v$6442[1];
var v$6446;
var fix$6745 = {};
fix$6745.$lookup = function(v$6448,v$6449){lab$lookup: while (true) {if (v$6448 == null) {return [1];
} else {var v$6450 = v$6448;
var v$6451 = v$6450[0];
var v$6452 = v$6451[0];
var v$6453 = v$6451[2];
var v$6454 = v$6450[1];
if (v$6449 == v$6452) {return [0,v$6453];
} else {var t$6746 = v$6454;
var t$6747 = v$6449;
var v$6448 = t$6746;
var v$6449 = t$6747;
continue lab$lookup;
};
};
};
};
var lookup$6447 = fix$6745.$lookup;
v$6446 = (lookup$6447(v$5784,v$6444));
switch (v$6446[0]) { case 0: {var v$6455 = v$6446[1];
switch (v$6455[0]) { case 2: {var v$6456 = v$6455[1];
var v$6457 = v$6456[1];
return v$6457(function(v$6458){if ((function(obj){return obj.validate();})(v$5788)) {var t$6753 = v$6445;
var t$6752;
var fix$6748 = {};
fix$6748.$foldl = function(v$6460,v$6461){lab$foldl: while (true) {if (v$6461 == null) {return v$6460;
} else {var v$6462 = v$6461;
var v$6463 = v$6462[0];
var v$6464 = v$6462[1];
var t$6749;
var v$6465 = v$6463[1];
switch (v$6465) { case "": {t$6749 = v$6460;
 break; }default: {var v$6466 = v$6463[2];
switch (v$6466[0]) { case 2: {t$6749 = v$6460;
 break; }case 1: {var v$6467 = v$6466[1];
t$6749 = [[v$6465,dojo$0dojo$1.getValueOpt$1477(v$6467[0],v$6467[1])],v$6460];
 break; }default: {t$6749 = [[v$6465,[0,v$6466[1][1][0]]],v$6460];
} };
} };
var t$6750 = t$6749;
var t$6751 = v$6464;
var v$6460 = t$6750;
var v$6461 = t$6751;
continue lab$foldl;
};
};
};
var foldl$6459 = fix$6748.$foldl;
var v$6610 = null;
t$6752 = (foldl$6459(v$6610,v$5784));
t$6753(t$6752);
return (function(obj){return obj.connectChildren();})(v$5788);
} else {return v$6445(null);
};
});
 break; }case 0: {var s$6468 = "Rules.setupRule.submit.expecting button - got hidden for " + (basis$0Int32$1.toString$454(v$6444));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6468];
 break; }default: {var s$6469 = "Rules.setupRule.submit.expecting button - got ed for " + (basis$0Int32$1.toString$454(v$6444));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6469];
} };
 break; }default: {var s$6470 = "Rules.setupRule.submit.expecting button - got nothing for " + (basis$0Int32$1.toString$454(v$6444));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6470];
} };
 break; }case 3: {var v$6471 = r$6339[1];
var fix$6740 = {};
fix$6740.$app = function(v$6473){lab$app: while (true) {if (v$6473 == null) {return 0;
} else {var v$6474 = v$6473;
var v$6475 = v$6474[0];
var v$6476 = v$6474[1];
var v$6477 = v$6475[0];
var v$6478 = v$6475[1];
var v$6479;
var fix$6741 = {};
fix$6741.$lookup_key = function(v$6481,v$6482){lab$lookup_key: while (true) {if (v$6481 == null) {return [1];
} else {var v$6483 = v$6481;
var v$6484 = v$6483[0];
var v$6485 = v$6484[1];
var v$6486 = v$6484[2];
var v$6487 = v$6483[1];
if (v$6485 == v$6482) {return [0,v$6486];
} else {var t$6742 = v$6487;
var t$6743 = v$6482;
var v$6481 = t$6742;
var v$6482 = t$6743;
continue lab$lookup_key;
};
};
};
};
var lookup_key$6480 = fix$6741.$lookup_key;
v$6479 = (lookup_key$6480(v$5784,v$6477));
switch (v$6479[0]) { case 0: {var v$6488 = v$6479[1];
switch (v$6488[0]) { case 1: {var v$6489 = v$6488[1];
var v$6490 = v$6489[0];
var v$6491 = v$6489[1];
var s$6492 = v$6491[6](v$6478);
switch (v$6491[2]) { case "dijit/form/DateTextBox": {(s$6492 == "")?((function(obj,k){obj.set(k,null);})(v$6490,"value")):((function(obj,a1,a2){return obj.set(a1,a2);})(v$6490,"value",(function(s){return new Date(Date.parse(s));})(s$6492)));
 break; }default: {(function(obj,p,v){obj.set(p,v);})(v$6490,"value",s$6492);
} };
 break; }case 0: {(v$6488[1][1][0] = v$6478,0);
 break; }default: {var s$6493 = "upd_key.does not expect button for key " + (("'" + v$6477) + "'");
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6493];
} };
 break; }default: {var s$6494 = "upd_key.no editor for key " + (("'" + v$6477) + "'");
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6494];
} };
var t$6744 = v$6476;
var v$6473 = t$6744;
continue lab$app;
};
};
};
var app$6472 = fix$6740.$app;
return app$6472(v$6471(0));
 break; }default: {var v$6495 = r$6339[1];
var fix$6785 = {};
fix$6785.$app = function(v$6498){lab$app: while (true) {if (v$6498 == null) {return 0;
} else {var v$6499 = v$6498;
var v$6500 = v$6499[0];
var v$6501 = v$6499[1];
fix$6738.$setupRule(v$6500);
var t$6786 = v$6501;
var v$6498 = t$6786;
continue lab$app;
};
};
};
var app$6497 = fix$6785.$app;
return app$6497(v$6495);
} };
};
var setupRule$6338 = fix$6738.$setupRule;
v$5808 = (function(v$6670){return setupRule$6338(v$6670);
});
var fix$6787 = {};
fix$6787.$app = function(v$5981){lab$app: while (true) {if (v$5981 == null) {return 0;
} else {var v$5982 = v$5981;
var v$5983 = v$5982[0];
var v$5984 = v$5982[1];
v$5808(v$5983);
var t$6788 = v$5984;
var v$5981 = t$6788;
continue lab$app;
};
};
};
var app$5980 = fix$6787.$app;
t$6739 = (function(v$6671){return app$5980(v$6671);
});
t$6739(v$1676);
var a$5985 = [function(v$5986){var fix$6789 = {};
fix$6789.$app = function(v$5988){lab$app: while (true) {if (v$5988 == null) {return 0;
} else {var v$5989 = v$5988;
var v$5990 = v$5989[0];
var v$5991 = v$5989[1];
var v$5992 = v$5990[2];
switch (v$5992[0]) { case 1: {(function(obj){return obj.startup();})(v$5992[1][0]);
 break; }default: {0;
} };
var t$6790 = v$5991;
var v$5988 = t$6790;
continue lab$app;
};
};
};
var app$5987 = fix$6789.$app;
app$5987(v$5784);
(function(obj){return obj.connectChildren();})(v$5788);
var t$6792;
var v$5993;
var fix$6791 = {};
fix$6791.$setupPostRule = function(r$6504){switch (r$6504[0]) { case 4: {return 0;
 break; }case 0: {return 0;
 break; }case 2: {var v$6505 = r$6504[1];
var v$6506 = v$6505[0];
var v$6507 = v$6505[1];
var v$6508 = v$6505[2];
var fix$6793 = {};
fix$6793.$inst = function(f0$6510,f$6511){lab$inst: while (true) {switch (f0$6510[0]) { case 0: {var v$6512 = f0$6510[1];
var v$6513 = v$6512[1];
var v$6514;
var fix$6794 = {};
fix$6794.$lookup = function(v$6516,v$6517){lab$lookup: while (true) {if (v$6516 == null) {return [1];
} else {var v$6518 = v$6516;
var v$6519 = v$6518[0];
var v$6520 = v$6519[0];
var v$6521 = v$6519[2];
var v$6522 = v$6518[1];
if (v$6517 == v$6520) {return [0,v$6521];
} else {var t$6795 = v$6522;
var t$6796 = v$6517;
var v$6516 = t$6795;
var v$6517 = t$6796;
continue lab$lookup;
};
};
};
};
var lookup$6515 = fix$6794.$lookup;
v$6514 = (lookup$6515(v$5784,v$6513));
switch (v$6514[0]) { case 0: {var v$6523 = v$6514[1];
switch (v$6523[0]) { case 1: {var v$6524 = v$6523[1];
return (dojo$0dojo$1.onChange$1555(v$6524[0],v$6524[1]))((function(env$6800){return function(v$6525){var v$6799 = env$6800[0];
return v$6799(0);
};
})([f$6511]));
 break; }case 0: {var v$6526 = v$6523[1];
return (v$6526[0][0] = [(function(env$6798){return function(v$6527){var v$6797 = env$6798[0];
return v$6797(0);
};
})([f$6511]),v$6526[0][0]],0);
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.inst.button"];
} };
 break; }default: {var s$6528 = "Rules.inst." + (basis$0Int32$1.toString$454(v$6513));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6528];
} };
 break; }case 1: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.inst.readonly not implemented"];
 break; }case 3: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.inst.enabled not implemented"];
 break; }case 4: {return 0;
 break; }default: {var v$6529 = f0$6510[1];
var v$6530 = v$6529[0];
var v$6531 = v$6529[1];
fix$6793.$inst(v$6530,f$6511);
var t$6801 = v$6531;
var t$6802 = f$6511;
var f0$6510 = t$6801;
var f$6511 = t$6802;
continue lab$inst;
} };
};
};
var inst$6509 = fix$6793.$inst;
return inst$6509(v$6506,function(v$6645){if (guard$5805[0]) {return 0;
} else {try {var t$6813 = upd$1152;
var t$6812 = v$5784;
var t$6811 = v$6507;
var t$6810;
var t$6809 = v$6508;
var t$6805;
var fix$6804 = {};
fix$6804.$get = function(f0$6647){switch (f0$6647[0]) { case 0: {var v$6648 = f0$6647[1];
var v$6649 = v$6648[1];
var v$6650;
var fix$6806 = {};
fix$6806.$lookup = function(v$6652,v$6653){lab$lookup: while (true) {if (v$6652 == null) {return [1];
} else {var v$6654 = v$6652;
var v$6655 = v$6654[0];
var v$6656 = v$6655[0];
var v$6657 = v$6655[2];
var v$6658 = v$6654[1];
if (v$6653 == v$6656) {return [0,v$6657];
} else {var t$6807 = v$6658;
var t$6808 = v$6653;
var v$6652 = t$6807;
var v$6653 = t$6808;
continue lab$lookup;
};
};
};
};
var lookup$6651 = fix$6806.$lookup;
v$6650 = (lookup$6651(v$5784,v$6649));
switch (v$6650[0]) { case 0: {var v$6659 = v$6650[1];
switch (v$6659[0]) { case 1: {var v$6660 = v$6659[1];
return [1,dojo$0dojo$1.getValue$1450(v$6660[0],v$6660[1])];
 break; }case 0: {return [1,v$6659[1][1][0]];
 break; }default: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.get.button"];
} };
 break; }default: {var s$6661 = "Rules.get." + (basis$0Int32$1.toString$454(v$6649));
throw [basis$0Initial$1.en$Fail$50,"Formlets die: " + s$6661];
} };
 break; }case 1: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.get.readonly not implemented"];
 break; }case 3: {throw [basis$0Initial$1.en$Fail$50,"Formlets die: Rules.get.enabled not implemented"];
 break; }case 4: {return [0];
 break; }default: {var v$6662 = f0$6647[1];
var v$6663 = v$6662[0];
var v$6664 = v$6662[1];
return [2,[fix$6804.$get(v$6663),fix$6804.$get(v$6664)]];
} };
};
var get$6646 = fix$6804.$get;
t$6805 = (get$6646(v$6506));
t$6810 = (t$6809(t$6805));
return t$6813(t$6812,t$6811,t$6810);
} catch(v$6803) {return (function(v$6665){var t$6814 = v$6665;
if (t$6814[0] == dojo$0formlets$1.en$AbortRule$533) {return 0;
} else {if (t$6814[0] == en$FormletError$534) {var s$6666 = v$6665[1];
error_reporter$1637(s$6666);
throw [basis$0Initial$1.en$Fail$50,"formlet error"];
} else {throw v$6665;
};
};
})(v$6803);
};
};
});
 break; }case 1: {return 0;
 break; }case 3: {return 0;
 break; }default: {var v$6554 = r$6504[1];
var fix$6815 = {};
fix$6815.$app = function(v$6557){lab$app: while (true) {if (v$6557 == null) {return 0;
} else {var v$6558 = v$6557;
var v$6559 = v$6558[0];
var v$6560 = v$6558[1];
fix$6791.$setupPostRule(v$6559);
var t$6816 = v$6560;
var v$6557 = t$6816;
continue lab$app;
};
};
};
var app$6556 = fix$6815.$app;
return app$6556(v$6554);
} };
};
var setupPostRule$6503 = fix$6791.$setupPostRule;
v$5993 = (function(v$6672){return setupPostRule$6503(v$6672);
});
var fix$6817 = {};
fix$6817.$app = function(v$6057){lab$app: while (true) {if (v$6057 == null) {return 0;
} else {var v$6058 = v$6057;
var v$6059 = v$6058[0];
var v$6060 = v$6058[1];
v$5993(v$6059);
var t$6818 = v$6060;
var v$6057 = t$6818;
continue lab$app;
};
};
};
var app$6056 = fix$6817.$app;
t$6792 = (function(v$6673){return app$6056(v$6673);
});
t$6792(v$1676);
(guard$5805[0] = false,0);
return (function(fp,s,v){fp[s] = v;})((function(fp,s){return fp[s];})(form_elem$5789,"style"),"height","auto;");
},v$5807];
return c$2801(a$5985);
});
});
});
};
};
};
dojo$0formlets$1.install$1677 = function(e$1680,formlet$1683,error_reporter$1686){var startupRef$1687 = [function(v$1689){return 0;
}];
var wM$1690;
var v$3189 = (dojo$0formlets$1.mk$1630(formlet$1683[0],formlet$1683[1]))(error_reporter$1686);
wM$1690 = (function(c$2889){return v$3189(function(v$2890){var v$6066 = v$2890[0];
var v$6067 = v$2890[1];
(startupRef$1687[0] = v$6066,0);
return c$2889(v$6067);
});
});
return dojo$0dojo$1.attachToElement$197(e$1680,wM$1690,startupRef$1687[0]);
};
return 0;
})();
